<!DOCTYPE html>
<html lang="cs">
<head>
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Euphoria - Prague - Weed.cz</title>
    <meta name="description" content="Euphoria - CBD Retail Shop v Prague. CBD, HHC, H4CBD, 700+ hemp products">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/business-detail-yelp.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2Y3YW0SDT8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-2Y3YW0SDT8');
    </script>
    <!-- Supabase Client -->
    <script src="https://unpkg.com/@supabase/supabase-js@2.39.3/dist/umd/supabase.js"></script>
</head>
<body class="yelp-layout" data-business-id="euphoria" data-business-name="Euphoria">
    <a href="#main-content" class="skip-to-content">Skip to main content</a>
    
        <!-- Header -->
    <header class="header">
        <div class="header-container">
            <a href="/" class="logo"><img src="/images/logo-horizontal.webp" alt="Weed.cz" style="height: 40px; width: auto;"></a>
            <div class="header-search">
                <input type="text" id="header-search" placeholder="Weed.cz prohled√°vat..." style="padding: 8px 15px; border: 1px solid #ddd; border-radius: 20px; width: 200px; font-size: 14px;">
            </div>
<div class="header-actions">
                <select class="header-btn language-switcher" style="background: rgba(255,255,255,0.2); border: none; color: white; padding: 10px;" onchange="if(this.value=='EN') window.location.href='/en/praha/prague/euphoria.html';">
                    <option value="CS" selected>CS</option>
                    <option value="EN">EN</option>
                </select>
            </div>
        </div>
    </header>

    <!-- Navigation with Badges -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="/" class="nav-badge">
                üè† Dom≈Ø
            </a>
            <a href="/cbd-shops.html" class="nav-badge pink">
                üåø CBD Obchody <span class="count">79</span>
            </a>
            <a href="/seed-banks.html" class="nav-badge orange">
                üå± Seed Banky <span class="count">21</span>
            </a>
            <a href="/grow-shops.html" class="nav-badge blue">
                üåæ Grow Shopy <span class="count">23</span>
            </a>
            <a href="/medical.html" class="nav-badge green">
                üíä L√©k√°rny <span class="count">21</span>
            </a>
            <a href="/blog/" class="nav-badge yellow">
                üìù Blog
            </a>
            <a href="/sitemap.html" class="nav-badge purple">
                üó∫Ô∏è Mapa str√°nek
            </a>
        </div>
    </nav>

    <!-- Yelp-Style Hero Section -->
    <div class="business-hero">
        <div class="business-hero-images" id="hero-gallery">
            <!-- Images will be loaded by JavaScript -->
        </div>
        <div class="business-hero-overlay">
            <h1 class="business-hero-name">Euphoria</h1>
            <div class="business-hero-meta">
                <div class="business-hero-rating">
                    <span class="stars" id="hero-rating-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                    <span id="hero-rating-text">Zat√≠m ≈æ√°dn√© hodnocen√≠</span>
                </div>
                <div class="business-hero-status">
                    <span>‚Ä¢</span>
                    <span>CBD Retail Shop</span>
                </div>
            </div>
        </div>
        <button class="hero-photos-btn" onclick="document.getElementById('business-gallery').scrollIntoView({behavior: 'smooth'})">
            üì∏ Zobrazit v≈°echny fotky
        </button>
    </div>

    <!-- Action Bar -->
    <div class="business-actions">
        <div class="actions-left">
            <button class="btn-action primary" id="write-review-btn-top" style="display: none;">
                ‚úçÔ∏è Napsat recenzi
            </button>
            <button class="btn-action" onclick="navigator.share ? navigator.share({title: 'Euphoria', url: window.location.href}) : alert('Sd√≠len√≠ nen√≠ podporov√°no')">
                üîó Sd√≠let
            </button>
        </div>
        <div class="actions-right">
            <a href="#contact-info" class="contact-link">üìû Kontaktn√≠ informace</a>
            <a href="#map" class="contact-link">üìç Zobrazit na mapƒõ</a>
        </div>
    </div>

    <div class="business-content-wrapper">
        <div class="business-main-content">
            <div class="container" id="main-content" style="margin-top: 40px;">
        <!-- Breadcrumbs -->
        <div style="margin-bottom: 20px; font-size: 14px;">
            <a href="/" style="color: var(--text-gray); text-decoration: none;">Dom≈Ø</a>
            <span style="color: var(--text-gray);"> / </span>
            <a href="/praha/prague/index.html" style="color: var(--text-gray); text-decoration: none;">Prague</a>
            <span style="color: var(--text-gray);"> / </span>
            <span style="color: var(--text-dark);">Euphoria</span>
        </div>
        
        <div class="business-detail">
            <!-- Business Header -->
            <div class="business-header">
                <h1>Euphoria</h1>
        <!-- Business Description -->
        <div class="business-description" style="background: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <h2 style="color: #2c5530; margin-bottom: 15px;">O n√°s</h2>
            <p style="line-height: 1.8; color: #333;">Euphoria je p≈ôedn√≠ CBD obchod s√≠dl√≠c√≠ v srdci Prahy, kter√Ω nab√≠z√≠ ≈°irok√Ω sortiment v√≠ce ne≈æ 700 produkt≈Ø z konop√≠, vƒçetnƒõ CBD, HHC a H4CBD. Na≈°e nab√≠dka zahrnuje kvalitn√≠ oleje, kapsle, kosmetiku i potravinov√© dopl≈àky, peƒçlivƒõ vybran√© pro maxim√°ln√≠ √∫ƒçinnost a bezpeƒçnost. D√≠ky strategick√© poloze v centru Prahy je na≈°e prodejna snadno dostupn√° jak pƒõ≈°ky, tak mƒõstskou dopravou, co≈æ zaruƒçuje pohodln√Ω n√°kup pro m√≠stn√≠ i n√°v≈°tƒõvn√≠ky. Euphoria se specializuje nejen na maloobchod, ale i na B2B velkoobchodn√≠ dod√°vky, co≈æ ocen√≠ zejm√©na podnikatel√© a distributo≈ôi hledaj√≠c√≠ spolehliv√©ho partnera s ≈°irok√Ωm sortimentem a konkurenceschopn√Ωmi cenami. Na≈°e produkty poch√°zej√≠ od provƒõ≈ôen√Ωch dodavatel≈Ø a spl≈àuj√≠ v≈°echny evropsk√© standardy kvality, co≈æ zaruƒçuje bezpeƒçnost a p≈ô√≠rodn√≠ p≈Øvod. Euphoria je ide√°ln√≠ volbou pro v≈°echny, kdo hledaj√≠ autentick√© a √∫ƒçinn√© konopn√© produkty v Praze s profesion√°ln√≠m p≈ô√≠stupem a osobn√≠m servisem. Nav≈°tivte n√°s a objevte s√≠lu p≈ô√≠rody v modern√≠m balen√≠.</p>
        </div>

        <!-- Business Image Gallery -->
        <div class="business-gallery" id="business-gallery">
            <!-- Images will be loaded by JavaScript -->
        </div>
        <script>
        // Load business images
        document.addEventListener('DOMContentLoaded', function() {
            const businessName = "Euphoria";
            const category = document.querySelector('.badge-primary')?.textContent || 'Other';
            
            if (typeof window.getBusinessImages === 'function') {
                const images = window.getBusinessImages(businessName, category);
                const gallery = document.getElementById('business-gallery');
                
                if (images && images.length > 0) {
                    gallery.innerHTML = images.map((img, i) => `
                        <div class="gallery-item">
                            <img src="${img}" alt="${businessName} - Foto ${i+1}" loading="lazy" onclick="openLightbox(${i})">
                        </div>
                    `).join('');
                    
                    // Add lightbox
                    if (!document.getElementById('lightbox')) {
                        gallery.insertAdjacentHTML('afterend', `
                            <div id="lightbox" class="lightbox" onclick="closeLightbox()">
                                <span class="lightbox-close">&times;</span>
                                <img class="lightbox-content" id="lightbox-img">
                                <div class="lightbox-nav">
                                    <button class="lightbox-prev" onclick="event.stopPropagation(); changeLightboxImage(-1)">&#10094;</button>
                                    <button class="lightbox-next" onclick="event.stopPropagation(); changeLightboxImage(1)">&#10095;</button>
                                </div>
                            </div>
                        `);
                    }
                    
                    let currentImageIndex = 0;
                    const lightboxImages = images;
                    
                    window.openLightbox = function(index) {
                        currentImageIndex = index;
                        document.getElementById('lightbox').style.display = 'flex';
                        document.getElementById('lightbox-img').src = lightboxImages[index];
                    };
                    
                    window.closeLightbox = function() {
                        document.getElementById('lightbox').style.display = 'none';
                    };
                    
                    window.changeLightboxImage = function(direction) {
                        currentImageIndex += direction;
                        if (currentImageIndex < 0) currentImageIndex = lightboxImages.length - 1;
                        if (currentImageIndex >= lightboxImages.length) currentImageIndex = 0;
                        document.getElementById('lightbox-img').src = lightboxImages[currentImageIndex];
                    };
                }
            }
        });
        </script>

                <div class="business-meta">
                    <span class="badge badge-category">CBD Retail Shop</span>
                    <span class="badge badge-type">B2B Supplier</span>
                    <span class="badge badge-available">Online Shop</span>
                    <span class="badge badge-available">Rozvoz</span>
                </div>
            </div>
            
            <!-- Business Content Grid -->
            <div class="business-content">
                <!-- Main Content -->
                <div class="business-main">
                    <!-- Description -->
                    
                    
                    <!-- Products -->
                    
                    <div class="info-box">
                        <h3>üåø Produkty</h3>
                        <p>CBD, HHC, H4CBD, 700+ hemp products</p>
                    </div>
                    
                    
                    <!-- Services -->
                    
                    <div class="info-box">
                        <h3>‚ú® Slu≈æby</h3>
                        <p>B2B Wholesale</p>
                    </div>
                    
                    
                    <!-- Map -->
                    
                    <div class="info-box">
                        <h3>üó∫Ô∏è Mapa</h3>
                        <div class="map-container" style="height: 300px;">
                            <iframe 
                                width="100%" 
                                height="100%" 
                                frameborder="0" 
                                style="border:0; border-radius: 8px;" 
                                src="https://www.openstreetmap.org/export/embed.html?bbox=14.3,49.9,14.6,50.2&layer=mapnik&marker=50.0755,14.4378"
                                allowfullscreen>
                            </iframe>
                        </div>
                        <p style="margin-top: 12px; font-size: 14px;">
                            <a href="https://www.google.com/maps/search/?api=1&query=Evropsk√° 2591/33E, 160 00,Prague" 
                               target="_blank" 
                               style="color: var(--bud-green);">
                                üìç Otev≈ô√≠t v Google Maps
                            </a>
                        </p>
                    </div>
                    
                </div>
                
                <!-- Sidebar -->
                <div class="business-sidebar">
                    <!-- Contact Information -->
                    <div class="info-box">
                        <h3>üìç Kontaktn√≠ informace</h3>
                        <div class="contact-list">
                            
                            <div class="contact-item">
                                <strong>Adresa:</strong>
                                <span>Evropsk√° 2591/33E, 160 00</span>
                            </div>
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <div class="contact-item">
                                <strong>Web:</strong>
                                <a href="www.euphoria.eu" target="_blank" rel="noopener">www.euphoria.eu</a>
                            </div>
                            
                            
                            
                        </div>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="info-box">
                        <h3>‚ö° Rychl√© akce</h3>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            
                            <a href="www.euphoria.eu" target="_blank" rel="noopener" class="btn btn-primary" style="width: 100%;">
                                üåê Nav≈°t√≠vit web
                            </a>
                            
                            
                            
                            <a href="https://www.google.com/maps/search/?api=1&query=Evropsk√° 2591/33E, 160 00,Prague" 
                               target="_blank" 
                               class="btn btn-outline" 
                               style="width: 100%;">
                                üó∫Ô∏è Navigovat
                            </a>
                            
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Related Businesses -->
            <div class="related-businesses">
                <h2>Podobn√© obchody v okol√≠</h2>
                <div class="cards-grid" id="related-businesses">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>
        
        <div style="margin-top: 40px; text-align: center;">
            <a href="/praha/prague/index.html" class="btn btn-primary">
                Zobrazit v≈°echny obchody v Prague
            </a>
        </div>
    </div>

    
    
        </div>
        <div class="business-sidebar">
            <div class="sidebar-card" id="contact-info">
                <h3>üìç Kontaktn√≠ informace</h3>
                <div id="sidebar-contact">
                    <!-- Contact info will be moved here by JavaScript -->
                </div>
            </div>
            <div class="sidebar-card">
                <h3>‚ö° Rychl√© akce</h3>
                <div id="sidebar-actions">
                    <!-- Quick actions will be added here by JavaScript -->
                </div>
            </div>
        </div>
    </div>
<!-- Footer -->
    
    <!-- Footer -->
    
        <!-- Rating Summary Section -->
        <div class="business-container">
            <div id="rating-summary" class="rating-summary-container">
                <!-- Will be populated by JavaScript -->
            </div>
            
            <!-- Reviews Section (Moved for better SEO) -->
            <div class="reviews-section">
                <h2>Recenze</h2>
                <div id="reviews-list">
                    <p class="loading">Naƒç√≠t√°n√≠ recenz√≠...</p>
                </div>
            </div>
            <!-- Write Review Button -->
            <div class="review-actions-header">
                <button id="login-btn" onclick="showLoginDialog()" style="display: none;">
                    P≈ôihl√°sit se
                </button>
                <button id="logout-btn" onclick="signOut()" style="display: none;">
                    Odhl√°sit se
                </button>
                <button id="write-review-btn" onclick="showReviewForm()" style="display: none;">
                    ‚úçÔ∏è Napsat recenzi
                </button>
            </div>
            
            <!-- Review Form (hidden by default) -->
            <div id="review-form" class="review-form" style="display: none;">
                <h3>Napi≈°te recenzi</h3>
                <form onsubmit="handleReviewSubmit(event)">
                    <!-- Overall Rating -->
                    <div class="form-group">
                        <label>Celkov√© hodnocen√≠ *</label>
                        <div class="star-rating-input">
                            <input type="radio" name="overall_rating" value="5" id="star5" required>
                            <label for="star5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</label>
                            <input type="radio" name="overall_rating" value="4" id="star4">
                            <label for="star4">‚≠ê‚≠ê‚≠ê‚≠ê</label>
                            <input type="radio" name="overall_rating" value="3" id="star3">
                            <label for="star3">‚≠ê‚≠ê‚≠ê</label>
                            <input type="radio" name="overall_rating" value="2" id="star2">
                            <label for="star2">‚≠ê‚≠ê</label>
                            <input type="radio" name="overall_rating" value="1" id="star1">
                            <label for="star1">‚≠ê</label>
                        </div>
                    </div>
                    
                    <!-- Title -->
                    <div class="form-group">
                        <label for="review_title">Nadpis recenze</label>
                        <input type="text" id="review_title" name="review_title" maxlength="100" placeholder="Shr≈àte svou zku≈°enost...">
                    </div>
                    
                    <!-- Review Text -->
                    <div class="form-group">
                        <label for="review_text">Va≈°e recenze</label>
                        <textarea id="review_text" rows="5" maxlength="1000" placeholder="Podƒõlte se o sv√© zku≈°enosti..."></textarea>
                    </div>
                    
                    <!-- Category Ratings -->
                    <div class="category-ratings-input">
                        <h4>Hodnocen√≠ podle kategori√≠ (voliteln√©)</h4>
                        
                        <div class="form-group">
                            <label>üåø Kvalita produkt≈Ø</label>
                            <select name="product_quality">
                                <option value="">Nehodnoceno</option>
                                <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√©</option>
                                <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√©</option>
                                <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√©</option>
                                <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√©</option>
                                <option value="1">‚≠ê ≈†patn√©</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>üì¶ V√Ωbƒõr</label>
                            <select name="selection">
                                <option value="">Nehodnoceno</option>
                                <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√Ω</option>
                                <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√Ω</option>
                                <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√Ω</option>
                                <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√Ω</option>
                                <option value="1">‚≠ê ≈†patn√Ω</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>üë• Person√°l</label>
                            <select name="staff">
                                <option value="">Nehodnoceno</option>
                                <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√Ω</option>
                                <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√Ω</option>
                                <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√Ω</option>
                                <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√Ω</option>
                                <option value="1">‚≠ê ≈†patn√Ω</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>üí∞ Cena</label>
                            <select name="price">
                                <option value="">Nehodnoceno</option>
                                <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√°</option>
                                <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√°</option>
                                <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√°</option>
                                <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√°</option>
                                <option value="1">‚≠ê ≈†patn√°</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>‚ú® Atmosf√©ra</label>
                            <select name="atmosphere">
                                <option value="">Nehodnoceno</option>
                                <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√°</option>
                                <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√°</option>
                                <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√°</option>
                                <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√°</option>
                                <option value="1">‚≠ê ≈†patn√°</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Odeslat recenzi</button>
                        <button type="button" onclick="closeReviewForm()" class="btn-secondary">Zru≈°it</button>
                    </div>
                </form>
            </div>
<!-- Reviews List -->
            

        </div>
        
<footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Weed.cz</h3>
                    <p>Kompletn√≠ adres√°≈ô cannabis obchod≈Ø, l√©k√°ren a slu≈æeb v ƒåesk√© republice.</p>
                </div>
                <div class="footer-section">
                    <h3>Kategorie</h3>
                    <ul>
                        <li><a href="/cbd-shops.html">CBD Obchody</a></li>
                        <li><a href="/seed-banks.html">Seed Banky</a></li>
                        <li><a href="/grow-shops.html">Grow Shopy</a></li>
                        <li><a href="/medical.html">L√©k√°rny</a></li>
                        <li><a href="/blog/">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Informace</h3>
                    <ul>
                        <li><a href="/about.html">O projektu</a></li>
                        <li><a href="/contact.html">Kontakt</a></li>
                        <li><a href="/privacy.html">Ochrana osobn√≠ch √∫daj≈Ø</a></li>
                        <li><a href="/terms.html">Podm√≠nky pou≈æ√≠v√°n√≠</a></li>
                        <li><a href="/sitemap.html">Mapa str√°nek</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Weed.cz - Kompletn√≠ datab√°ze 144+ cannabis lokac√≠ v ƒåesk√© republice</p>
            </div>
        </div>
    </footer>
    
    <script src="../../js/data.js"></script>
    <script src="../../js/translations.js"></script>
    <script src="../../js/schema.js"></script>
    <script src="../../js/main.js"></script>
    <script>
        // Load related businesses
        document.addEventListener('DOMContentLoaded', function() {
            const currentCity = 'Prague';
            const currentCategory = 'CBD Retail Shop';
            const currentName = 'Euphoria';
            
            if (typeof SITE_DATA !== 'undefined' && SITE_DATA.businesses) {
                const related = SITE_DATA.businesses
                    .filter(b => (b.city === currentCity || b.category === currentCategory) && b.name !== currentName)
                    .slice(0, 3);
                
                const container = document.getElementById('related-businesses');
                if (container && related.length > 0) {
                    related.forEach(business => {
                        container.innerHTML += createBusinessCardHTML(business);
                    });
                }
            }
        });
    </script>
    <script src="/js/business-images.js"></script>
    <script src="/js/business-images.js"></script>
    <!-- Reviews System -->
    <script src="/js/reviews.js" onerror="console.error('Failed to load reviews.js'); document.getElementById('reviews-list').innerHTML = '<p>Syst√©m recenz√≠ se nepoda≈ôilo naƒç√≠st. Zkuste pros√≠m obnovit str√°nku.</p>';"></script>
    <script>
        const businessId = 'euphoria';
        const businessName = 'Euphoria';
        
        document.addEventListener('DOMContentLoaded', function() {
            initializeReviews(businessId);
        });
        
        function handleReviewSubmit(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            
            const reviewData = {
                businessName: businessName,
                overallRating: parseInt(formData.get('overall_rating')),
                title: formData.get('review_title') || null,
                reviewText: document.getElementById('review_text').value || null,
                productQuality: formData.get('product_quality') ? parseInt(formData.get('product_quality')) : null,
                selection: formData.get('selection') ? parseInt(formData.get('selection')) : null,
                staff: formData.get('staff') ? parseInt(formData.get('staff')) : null,
                price: formData.get('price') ? parseInt(formData.get('price')) : null,
                atmosphere: formData.get('atmosphere') ? parseInt(formData.get('atmosphere')) : null
            };
            
            submitReview(reviewData);
        }
    </script>

    <script>
        // Update hero section with review data
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for reviews to load
            setTimeout(function() {
                const ratingSummary = document.querySelector('.rating-summary');
                if (ratingSummary) {
                    const avgRating = ratingSummary.querySelector('.average-rating');
                    const reviewCount = ratingSummary.querySelector('.review-count');
                    
                    if (avgRating && reviewCount) {
                        const rating = parseFloat(avgRating.textContent);
                        const count = reviewCount.textContent;
                        
                        // Update hero stars
                        const heroStars = document.getElementById('hero-rating-stars');
                        const heroText = document.getElementById('hero-rating-text');
                        
                        if (heroStars && heroText && !isNaN(rating)) {
                            const fullStars = Math.floor(rating);
                            const hasHalfStar = rating % 1 >= 0.5;
                            let starsHtml = '‚≠ê'.repeat(fullStars);
                            if (hasHalfStar) starsHtml += '‚≠ê';
                            
                            heroStars.innerHTML = starsHtml;
                            heroText.textContent = rating.toFixed(1) + ' (' + count + ')';
                        }
                    }
                }
                
                // Load hero images
                const businessName = document.querySelector('.business-hero-name')?.textContent || '';
                const category = document.querySelector('.badge-category')?.textContent || 'Other';
                
                if (typeof window.getBusinessImages === 'function') {
                    const images = window.getBusinessImages(businessName, category);
                    const heroGallery = document.getElementById('hero-gallery');
                    
                    if (heroGallery && images && images.length > 0) {
                        // Show up to 4 images in hero
                        const heroImages = images.slice(0, 4);
                        heroGallery.innerHTML = heroImages.map(img => 
                            `<img src="${img}" alt="${businessName}" loading="eager">`
                        ).join('');
                    }
                }
                
                // Move contact info to sidebar
                const contactBox = document.querySelector('.info-box h3');
                if (contactBox && contactBox.textContent.includes('Kontaktn√≠ informace')) {
                    const contactInfo = contactBox.parentElement.querySelector('.contact-list');
                    const sidebarContact = document.getElementById('sidebar-contact');
                    if (contactInfo && sidebarContact) {
                        sidebarContact.innerHTML = contactInfo.innerHTML;
                    }
                }
                
                // Connect top write review button
                const topBtn = document.getElementById('write-review-btn-top');
                const mainBtn = document.getElementById('write-review-btn');
                if (topBtn && mainBtn) {
                    topBtn.style.display = mainBtn.style.display;
                    topBtn.onclick = function() {
                        mainBtn.click();
                    };
                    
                    // Sync visibility
                    const observer = new MutationObserver(function() {
                        topBtn.style.display = mainBtn.style.display;
                    });
                    observer.observe(mainBtn, { attributes: true, attributeFilter: ['style'] });
                }
            }, 1000);
        });
    </script>

</body>
</html>