// Translations for Weed.cz
const TRANSLATIONS = {
  cs: {
    // Header
    'site_tagline': 'ðŸŒ¿ KompletnÃ­ databÃ¡ze 144+ cannabis lokacÃ­ v ÄŒeskÃ© republice',
    'search_placeholder': 'Hledat obchody, produkty, mÄ›sta...',
    'btn_regions': 'Regiony',
    'btn_categories': 'Kategorie',
    
    // Navigation
    'nav_home': 'DomÅ¯',
    'nav_regions': 'Regiony',
    'nav_categories': 'Kategorie',
    'nav_cbd_shops': 'CBD Obchody',
    'nav_seed_banks': 'Seed Banky',
    'nav_grow_shops': 'Grow Shopy',
    'nav_medical': 'LÃ©kÃ¡rny',
    'nav_blog': 'Blog',
    'section_blog': 'ðŸ“ Cannabis PrÅ¯vodce',
    'section_blog_subtitle': 'KomplexnÃ­ ÄlÃ¡nky o konopÃ­ v ÄŒeskÃ© republice',
    'btn_all_articles': 'VÅ¡echny ÄlÃ¡nky',
    
    // Homepage
    'hero_title': 'ðŸŒ¿ NajdÄ›te Cannabis v ÄŒeskÃ© Republice',
    'hero_subtitle': 'KompletnÃ­ adresÃ¡Å™ CBD obchodÅ¯, seed bankÅ¯, grow shopÅ¯, lÃ©kÃ¡ren a cannabis sluÅ¾eb',
    'btn_browse_regions': 'ProchÃ¡zet podle regionÅ¯',
    'btn_browse_categories': 'ProchÃ¡zet podle kategoriÃ­',
    'stat_total': 'Celkem lokacÃ­',
    'stat_cbd': 'CBD Obchody',
    'stat_ecommerce': 'E-commerce',
    'stat_seeds': 'Seed & Grow',
    'section_latest': 'NejnovÄ›jÅ¡Ã­ pÅ™idanÃ©',
    'section_latest_subtitle': 'Objevte nejnovÄ›jÅ¡Ã­ cannabis obchody a sluÅ¾by',
    'btn_show_all': 'Zobrazit vÅ¡echny lokace',
    
    // Regions page
    'regions_title': 'ProchÃ¡zet podle regionÅ¯',
    'regions_subtitle': 'Vyberte region pro zobrazenÃ­ vÅ¡ech cannabis lokacÃ­',
    'locations_in_cities': 'lokacÃ­ v {count} mÄ›stech',
    
    // Categories page
    'categories_title': 'ProchÃ¡zet podle kategoriÃ­',
    'categories_subtitle': 'Vyberte kategorii pro zobrazenÃ­ vÅ¡ech lokacÃ­',
    'locations_count': 'lokacÃ­',
    
    // Category names
    'cat_cbd_shops': 'CBD Obchody',
    'cat_seed_banks': 'Seed Banky & Grow Shopy',
    'cat_online_shops': 'Online E-shopy',
    'cat_medical': 'LÃ©kÃ¡rny',
    'cat_delivery': 'RozvozovÃ© sluÅ¾by',
    'cat_social': 'SociÃ¡lnÃ­ kluby',
    
    // Business categories
    'category_cbd_retail': 'CBD Retail Shop',
    'category_seeds_grow': 'Seeds & Grow Shop',
    'category_ecommerce': 'E-commerce Platform',
    'category_medical': 'Medical Cannabis',
    'category_delivery': 'Delivery Service',
    'category_social': 'Social Club & Event',
    
    // City pages
    'cannabis_in': 'Cannabis v',
    'locations_in_region': 'lokacÃ­ v regionu',
    'filter_label': 'Filtr:',
    'filter_all_categories': 'VÅ¡echny kategorie',
    'no_results': 'Nenalezeny Å¾Ã¡dnÃ© vÃ½sledky',
    
    // Business detail
    'breadcrumb_home': 'DomÅ¯',
    'contact_info': 'ðŸ“ KontaktnÃ­ informace',
    'label_address': 'Adresa:',
    'label_city': 'MÄ›sto:',
    'label_phone': 'Telefon:',
    'label_email': 'Email:',
    'label_website': 'Web:',
    'label_hours': 'OtevÃ­racÃ­ doba:',
    'section_products': 'ðŸŒ¿ Produkty',
    'section_services': 'âœ¨ SluÅ¾by',
    'section_notes': 'â„¹ï¸ PoznÃ¡mky',
    'btn_show_all_city': 'Zobrazit vÅ¡echny obchody v',
    
    // Badges
    'badge_online_shop': 'Online Shop',
    'badge_delivery': 'Rozvoz',
    'tag_delivery': 'ðŸšš Rozvoz',
    'tag_eshop': 'ðŸ›’ E-shop',
    
    // Footer
    'footer_about': 'KompletnÃ­ adresÃ¡Å™ cannabis obchodÅ¯, lÃ©kÃ¡ren a sluÅ¾eb v ÄŒeskÃ© republice.',
    'footer_categories': 'Kategorie',
    'footer_regions': 'Regiony',
    'footer_about_section': 'O nÃ¡s',
    'footer_about_project': 'O projektu',
    'footer_contact': 'Kontakt',
    'footer_copyright': 'Â© 2025 Weed.cz - Cannabis Directory ÄŒeskÃ© Republiky',
    
    // Language
    'language': 'Jazyk',
    'lang_czech': 'ÄŒeÅ¡tina',
    'lang_english': 'English'
  },
  
  en: {
    // Header
    'site_tagline': 'ðŸŒ¿ Complete database of 144+ cannabis locations in Czech Republic',
    'search_placeholder': 'Search shops, products, cities...',
    'btn_regions': 'Regions',
    'btn_categories': 'Categories',
    
    // Navigation
    'nav_home': 'Home',
    'nav_regions': 'Regions',
    'nav_categories': 'Categories',
    'nav_cbd_shops': 'CBD Shops',
    'nav_seed_banks': 'Seed Banks',
    'nav_grow_shops': 'Grow Shops',
    'nav_medical': 'Pharmacies',
    'nav_blog': 'Blog',
    'section_blog': 'ðŸ“ Cannabis Guide',
    'section_blog_subtitle': 'Comprehensive articles about cannabis in Czech Republic',
    'btn_all_articles': 'All articles',
    
    // Homepage
    'hero_title': 'ðŸŒ¿ Find Cannabis in Czech Republic',
    'hero_subtitle': 'Complete directory of CBD shops, seed banks, grow shops, pharmacies and cannabis services',
    'btn_browse_regions': 'Browse by regions',
    'btn_browse_categories': 'Browse by categories',
    'stat_total': 'Total locations',
    'stat_cbd': 'CBD Shops',
    'stat_ecommerce': 'E-commerce',
    'stat_seeds': 'Seed & Grow',
    'section_latest': 'Latest additions',
    'section_latest_subtitle': 'Discover the newest cannabis shops and services',
    'btn_show_all': 'Show all locations',
    
    // Regions page
    'regions_title': 'Browse by regions',
    'regions_subtitle': 'Select a region to view all cannabis locations',
    'locations_in_cities': 'locations in {count} cities',
    
    // Categories page
    'categories_title': 'Browse by categories',
    'categories_subtitle': 'Select a category to view all locations',
    'locations_count': 'locations',
    
    // Category names
    'cat_cbd_shops': 'CBD Shops',
    'cat_seed_banks': 'Seed Banks & Grow Shops',
    'cat_online_shops': 'Online E-shops',
    'cat_medical': 'Pharmacies',
    'cat_delivery': 'Delivery Services',
    'cat_social': 'Social Clubs',
    
    // Business categories
    'category_cbd_retail': 'CBD Retail Shop',
    'category_seeds_grow': 'Seeds & Grow Shop',
    'category_ecommerce': 'E-commerce Platform',
    'category_medical': 'Medical Cannabis',
    'category_delivery': 'Delivery Service',
    'category_social': 'Social Club & Event',
    
    // City pages
    'cannabis_in': 'Cannabis in',
    'locations_in_region': 'locations in',
    'filter_label': 'Filter:',
    'filter_all_categories': 'All categories',
    'no_results': 'No results found',
    
    // Business detail
    'breadcrumb_home': 'Home',
    'contact_info': 'ðŸ“ Contact Information',
    'label_address': 'Address:',
    'label_city': 'City:',
    'label_phone': 'Phone:',
    'label_email': 'Email:',
    'label_website': 'Website:',
    'label_hours': 'Opening hours:',
    'section_products': 'ðŸŒ¿ Products',
    'section_services': 'âœ¨ Services',
    'section_notes': 'â„¹ï¸ Notes',
    'btn_show_all_city': 'Show all shops in',
    
    // Badges
    'badge_online_shop': 'Online Shop',
    'badge_delivery': 'Delivery',
    'tag_delivery': 'ðŸšš Delivery',
    'tag_eshop': 'ðŸ›’ E-shop',
    
    // Footer
    'footer_about': 'Complete directory of cannabis shops, pharmacies and services in Czech Republic.',
    'footer_categories': 'Categories',
    'footer_regions': 'Regions',
    'footer_about_section': 'About',
    'footer_about_project': 'About project',
    'footer_contact': 'Contact',
    'footer_copyright': 'Â© 2025 Weed.cz - Cannabis Directory of Czech Republic',
    
    // Language
    'language': 'Language',
    'lang_czech': 'ÄŒeÅ¡tina',
    'lang_english': 'English'
  }
};

// Get translation
function t(key, lang = null) {
  if (!lang) {
    lang = getCurrentLanguage();
  }
  return TRANSLATIONS[lang][key] || key;
}

// Get current language from URL or localStorage
function getCurrentLanguage() {
  // Check URL parameter
  const urlParams = new URLSearchParams(window.location.search);
  const urlLang = urlParams.get('lang');
  if (urlLang && (urlLang === 'cs' || urlLang === 'en')) {
    localStorage.setItem('weed_cz_lang', urlLang);
    return urlLang;
  }
  
  // Check localStorage
  const storedLang = localStorage.getItem('weed_cz_lang');
  if (storedLang) {
    return storedLang;
  }
  
  // Default to Czech
  return 'cs';
}

// Set language
function setLanguage(lang) {
  localStorage.setItem('weed_cz_lang', lang);
  
  // Update URL without reload
  const url = new URL(window.location);
  url.searchParams.set('lang', lang);
  window.history.replaceState({}, '', url);
  
  // Translate page
  translatePage(lang);
}

// Translate page content
function translatePage(lang) {
  // Translate elements with data-i18n attribute
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    const translation = t(key, lang);
    
    if (element.tagName === 'INPUT' && element.type === 'text') {
      element.placeholder = translation;
    } else {
      element.textContent = translation;
    }
  });
  
  // Update language switcher
  document.querySelectorAll('.lang-switch').forEach(btn => {
    btn.classList.remove('active');
  });
  document.querySelector(`.lang-switch[data-lang="${lang}"]`)?.classList.add('active');
  
  // Update HTML lang attribute
  document.documentElement.lang = lang;
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', function() {
  const currentLang = getCurrentLanguage();
  translatePage(currentLang);
  
  // Add language switcher event listeners
  document.querySelectorAll('.lang-switch').forEach(btn => {
    btn.addEventListener('click', function() {
      const lang = this.getAttribute('data-lang');
      setLanguage(lang);
    });
  });
});
