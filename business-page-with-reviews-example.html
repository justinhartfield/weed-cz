<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Name - Weed.cz</title>
    <link rel="stylesheet" href="../css/style.css">
    
    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Header (your existing header) -->
    
    <!-- Business Info Section -->
    <div class="business-container">
        <!-- Reviews Section (Moved above rating for better SEO) -->
        <!-- Review Form (hidden by default) -->
        <div id="review-form" class="review-form" style="display: none;">
            <h3>Napi≈°te recenzi</h3>
            <form onsubmit="handleReviewSubmit(event)">
                <!-- Overall Rating (Required) -->
                <div class="form-group">
                    <label>Celkov√© hodnocen√≠ *</label>
                    <div class="star-rating-input">
                        <input type="radio" name="overall_rating" value="5" id="star5" required>
                        <label for="star5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</label>
                        <input type="radio" name="overall_rating" value="4" id="star4">
                        <label for="star4">‚≠ê‚≠ê‚≠ê‚≠ê</label>
                        <input type="radio" name="overall_rating" value="3" id="star3">
                        <label for="star3">‚≠ê‚≠ê‚≠ê</label>
                        <input type="radio" name="overall_rating" value="2" id="star2">
                        <label for="star2">‚≠ê‚≠ê</label>
                        <input type="radio" name="overall_rating" value="1" id="star1">
                        <label for="star1">‚≠ê</label>
                    </div>
                </div>
                
                <!-- Title (Optional) -->
                <div class="form-group">
                    <label for="review_title">Nadpis recenze</label>
                    <input type="text" id="review_title" maxlength="100" placeholder="Shr≈àte svou zku≈°enost...">
                </div>
                
                <!-- Review Text (Optional) -->
                <div class="form-group">
                    <label for="review_text">Va≈°e recenze</label>
                    <textarea id="review_text" rows="5" maxlength="1000" placeholder="Podƒõlte se o sv√© zku≈°enosti..."></textarea>
                </div>
                
                <!-- Category Ratings (Optional) -->
                <div class="category-ratings-input">
                    <h4>Hodnocen√≠ podle kategori√≠ (voliteln√©)</h4>
                    
                    <div class="form-group">
                        <label>üåø Kvalita produkt≈Ø</label>
                        <select name="product_quality">
                            <option value="">Nehodnoceno</option>
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√©</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√©</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√©</option>
                            <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√©</option>
                            <option value="1">‚≠ê ≈†patn√©</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>üì¶ V√Ωbƒõr</label>
                        <select name="selection">
                            <option value="">Nehodnoceno</option>
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√Ω</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√Ω</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√Ω</option>
                            <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√Ω</option>
                            <option value="1">‚≠ê ≈†patn√Ω</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>üë• Person√°l</label>
                        <select name="staff">
                            <option value="">Nehodnoceno</option>
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√Ω</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√Ω</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√Ω</option>
                            <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√Ω</option>
                            <option value="1">‚≠ê ≈†patn√Ω</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>üí∞ Cena</label>
                        <select name="price">
                            <option value="">Nehodnoceno</option>
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√°</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√°</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√°</option>
                            <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√°</option>
                            <option value="1">‚≠ê ≈†patn√°</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>‚ú® Atmosf√©ra</label>
                        <select name="atmosphere">
                            <option value="">Nehodnoceno</option>
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê V√Ωborn√°</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Dobr√°</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê Pr≈Ømƒõrn√°</option>
                            <option value="2">‚≠ê‚≠ê Podpr≈Ømƒõrn√°</option>
                            <option value="1">‚≠ê ≈†patn√°</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn-primary">Odeslat recenzi</button>
                    <button type="button" onclick="closeReviewForm()" class="btn-secondary">Zru≈°it</button>
                </div>
            </form>
        </div>
        
        <!-- Reviews List -->
        <div class="reviews-section">
            <h2>Recenze</h2>
            <div id="reviews-list">
                <!-- Will be populated by JavaScript -->
                <p class="loading">Naƒç√≠t√°n√≠ recenz√≠...</p>
            </div>
        </div>
        
        <!-- Rating Summary Section -->
        <div id="rating-summary" class="rating-summary-container">
            <!-- Will be populated by JavaScript -->
        </div>
        <h1>Business Name</h1>
        <p>Business description...</p>
        
        
        
        <!-- Write Review Button -->
        <div class="review-actions-header">
            <button id="login-btn" onclick="showLoginDialog()" style="display: none;">
                P≈ôihl√°sit se
            </button>
            <button id="logout-btn" onclick="signOut()" style="display: none;">
                Odhl√°sit se
            </button>
            <button id="write-review-btn" onclick="showReviewForm()" style="display: none;">
                ‚úçÔ∏è Napsat recenzi
            </button>
        </div>
        
        
    </div>
    
    <!-- Footer (your existing footer) -->
    
    <!-- Reviews JavaScript -->
    <script src="../js/reviews.js"></script>
    <script>
        // Initialize reviews when page loads
        // Replace 'business-slug' with actual business ID from data.js
        const businessId = 'business-slug-here';
        const businessName = 'Business Name Here';
        
        document.addEventListener('DOMContentLoaded', function() {
            initializeReviews(businessId);
        });
        
        // Handle review form submission
        function handleReviewSubmit(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            
            const reviewData = {
                businessName: businessName,
                overallRating: parseInt(formData.get('overall_rating')),
                title: formData.get('review_title') || null,
                reviewText: document.getElementById('review_text').value || null,
                productQuality: formData.get('product_quality') ? parseInt(formData.get('product_quality')) : null,
                selection: formData.get('selection') ? parseInt(formData.get('selection')) : null,
                staff: formData.get('staff') ? parseInt(formData.get('staff')) : null,
                price: formData.get('price') ? parseInt(formData.get('price')) : null,
                atmosphere: formData.get('atmosphere') ? parseInt(formData.get('atmosphere')) : null
            };
            
            submitReview(reviewData);
        }
    </script>
</body>
</html>

